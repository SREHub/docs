nginx 502 bad gateway
一些运行在Nginx上的网站有时候会出现“502 Bad Gateway”错误，有些时候甚至频繁的出现。
以下是小编搜集整理的一些Nginx 502错误的排查方法，供参考：
Nginx 502错误的原因比较多，是因为在代理模式下后端服务器出现问题引起的。
这些错误一般都不是nginx本身的问题，一定要从后端找原因！
但nginx把这 些出错都揽在自己身上了，着实让nginx的推广者备受置疑，毕竟从字眼上理解，bad gateway？不就是bad nginx吗？
让不了解的人看到，会直接把责任推在nginx身上，希望nginx下一个版本会把出错提示写稍微友好一些，至少不会是现在简单的一句 502 Bad Gateway，另外还不忘附上自己的大名。
Nginx 502的触发条件
502错误最通常的出现情况就是后端主机当机。

nginx 400 bad request
会对请求头进行检查，如果请求头有问题，则返回400 bad request状态码。
可能的问题有：
1.比如对那些使用http1.1协议但是却没有发送Host头的请求，nginx给这些请求返回400错误。
2.检查这个请求头是否是重复的，如果是的话，则给该请求返回400错误。
3.请求头解析过程中遇到错误，一般为客户端发送了不符合协议规范的头部，此时nginx返回400错。
等等

nginx 504 Gateway timeout 
等待另一服务器对其进行响应时超时了。
当sparta与后端业务服务器进行连接时时间超多10s，或者从后端读取或写操作时间超过20s
proxy_connect_timeout 10s;#是和后端建立连接的超时时间，记住不要超过 75s。
proxy_read_timeout 20s;#是从后端读取数据的超时时间，两次读取操作的时间间隔如果大于这个值，和后端的连接会被关闭。
proxy_send_timeout 20s;#是向后端写数据的超时时间，两次写操作的时间间隔大于这个值，
